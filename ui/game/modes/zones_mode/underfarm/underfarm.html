<script type="text/x-handlebars" data-template-name="stonehearthAceUnderfarm">
   <div id="underfarmWindow" class="gui">
      <div class="window">
         <div class="title">
            {{ view.unit_name }}<div class="closeButton"></div>
         </div>

         <center>
            <h2>{{i18n stonehearth:ui.game.zones_mode.farm.choose_undercrop}}</h2>
         </center>

         <div id="undercropRotation">
            <a id="addCropLink" {{action "addCropButtonClicked" target="view"}}>
               <div class="targetCrop downSection">
                  <img class="undercropImage tooltip" {{bind-attr src="view.model.stonehearth_ace:grower_underfield.current_undercrop_details.icon" title="view.model.stonehearth_ace:grower_underfield.current_undercrop_details.name"}} />
               </div>
            </a>
         </div>

         <p></p>

         <button class="warn">{{i18n stonehearth:ui.game.common.remove}}</button>
         <button class="ok"></button>

      </div>
   </div>
</script>

<script type="text/x-handlebars" data-template-name="stonehearthAceUndercropPalette">
   <div id="undercropPalette" class="gui">
      <div class="window">
         <div class="title">{{i18n stonehearth:ui.game.zones_mode.farm.choose_undercrop}}</div>

         <div class="list downSection">
            <table>
               <tbody>
               {{#each view.undercrops}}
                  <tr {{bind-attr undercrop=undercrop_type locked=is_locked class="row this.is_locked:disabled this.is_locked:is-locked this.is_hidden:is-hidden"}}>
                     <td>
                        <div class="icon">
                           <img class="image" {{bind-attr src=undercrop_info.icon}} />
                        </div>
                     </td>
                     <td>
                        <div class="info">
                           <div class="name">{{i18n_key undercrop_info.name}}</div>
                           {{#if this.is_locked}}
                              <div class="description">
                                 {{i18n stonehearth:ui.game.show_workshop.level_requirement_needed}}
                                 {{i18n stonehearth:jobs.farmer.farmer_description.display_name}}
                                 {{i18n stonehearth:ui.game.show_workshop.level_requirement_level}}
                                 {{this.undercrop_level_requirement}}
                              </div>
                           {{else}}
                              <div class="description">
                                 {{i18n_key undercrop_info.description}}
                                 {{#if undercrop_info.preferred_seasons}}
                                    <p class="preferredSeasons">
                                       <span class="label">{{i18n stonehearth:ui.game.zones_mode.farm.preferred_seasons}}</span>
                                       {{undercrop_info.preferred_seasons}}
                                    </p>
                                 {{/if}}
                              </div>
                           {{/if}}
                        </div>
                     </td>
                  </tr>
               {{/each}}
               </tbody>
            </table>
         </div>
      </div>
   </div>
</script>
